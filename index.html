<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>LIFE — Lifetime Projection</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      background: #111;
      color: #eee;
      max-width: 900px;
      margin: auto;
      padding: 40px;
    }

    h1 {
      text-align: center;
    }

    p {
      text-align: center;
      color: #aaa;
    }

    .inputs {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-top: 30px;
    }

    label {
      display: flex;
      flex-direction: column;
      font-size: 14px;
    }

    input {
      margin-top: 6px;
      padding: 6px;
      background: #222;
      color: #fff;
      border: 1px solid #333;
    }

    button {
      margin-top: 30px;
      padding: 12px;
      width: 100%;
      font-size: 16px;
      background: #fff;
      color: #000;
      border: none;
      cursor: pointer;
    }

    #lifeBar {
      display: flex;
      height: 50px;
      margin-top: 40px;
      border-radius: 6px;
      overflow: hidden;
    }

    .segment {
      height: 100%;
    }

    .legend {
      margin-top: 20px;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 8px;
      font-size: 13px;
    }

    .legend div {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .color {
      width: 14px;
      height: 14px;
    }

    #insights {
      margin-top: 30px;
      font-size: 15px;
      line-height: 1.6;
    }
  </style>
</head>

<body>

<h1>LIFE</h1>
<p>Projected allocation of your entire lifetime (age 0 → 80)</p>

<div class="inputs">
  <label>Current age
    <input id="age" type="number" value="25">
  </label>

  <label>Age started working
    <input id="startWork" type="number" value="18">
  </label>

  <label>Sleep (hours/day)
    <input id="sleep" type="number" step="0.1" value="8">
  </label>

  <label>Work (hours/week)
    <input id="work" type="number" value="40">
  </label>

  <label>Commute (hours/day)
    <input id="commute" type="number" step="0.1" value="1">
  </label>

  <label>Screen time (hours/day)
    <input id="screen" type="number" step="0.1" value="4">
  </label>

  <label>Exercise (hours/day)
    <input id="exercise" type="number" step="0.1" value="0.5">
  </label>

  <label>Hobbies / leisure (hours/day)
    <input id="hobby" type="number" step="0.1" value="2">
  </label>
</div>

<button onclick="calculate()">Project My Life</button>

<div id="lifeBar"></div>
<div class="legend" id="legend"></div>
<div id="insights"></div>

<script>
function calculate() {

  const LIFE_EXPECTANCY = 80;
  const RETIREMENT_AGE = 67;

  const age = +ageInput.value;
  const startWork = +startWorkInput.value;
  const sleep = +sleepInput.value;
  const work = +workInput.value;
  const commute = +commuteInput.value;
  const screen = +screenInput.value;
  const exercise = +exerciseInput.value;
  const hobby = +hobbyInput.value;

  const totalLifeHours = LIFE_EXPECTANCY * 365 * 24;

  // ASSUMED DAILY TIMES
  const toilet = 0.75;
  const hygiene = 0.5;
  const cooking = 1.5;
  const chores = 0.5;

  // YEAR SPANS
  const workYears = Math.max(RETIREMENT_AGE - startWork, 0);
  const screenYears = Math.max(LIFE_EXPECTANCY - 18, 0);
  const remainingYears = Math.max(LIFE_EXPECTANCY - age, 0);

  const categories = [
    {
      name: "Sleep",
      hours: LIFE_EXPECTANCY * 365 * sleep,
      color: "#7b61ff"
    },
    {
      name: "Work",
      hours: workYears * 52 * work,
      color: "#555"
    },
    {
      name: "Commute",
      hours: workYears * 52 * commute * 5,
      color: "#ff8c00"
    },
    {
      name: "Screen",
      hours: screenYears * 365 * screen,
      color: "#4aa3ff"
    },
    {
      name: "Exercise",
      hours: remainingYears * 365 * exercise,
      color: "#4caf50"
    },
    {
      name: "Hobbies",
      hours: remainingYears * 365 * hobby,
      color: "#00bcd4"
    },
    {
      name: "Toilet",
      hours: LIFE_EXPECTANCY * 365 * toilet,
      color: "#c19a6b"
    },
    {
      name: "Hygiene",
      hours: LIFE_EXPECTANCY * 365 * hygiene,
      color: "#f48fb1"
    },
    {
      name: "Cooking",
      hours: LIFE_EXPECTANCY * 365 * cooking,
      color: "#ffd54f"
    },
    {
      name: "Chores",
      hours: LIFE_EXPECTANCY * 365 * chores,
      color: "#795548"
    }
  ];

  const used = categories.reduce((s, c) => s + c.hours, 0);

  categories.push({
    name: "Free Time",
    hours: Math.max(totalLifeHours - used, 0),
    color: "#ffd700"
  });

  // RENDER
  lifeBar.innerHTML = "";
  legend.innerHTML = "";

  categories.forEach(c => {
    const percent = (c.hours / totalLifeHours) * 100;

    const seg = document.createElement("div");
    seg.className = "segment";
    seg.style.width = percent + "%";
    seg.style.background = c.color;
    lifeBar.appendChild(seg);

    const leg = document.createElement("div");
    leg.innerHTML = `<span class="color" style="background:${c.color}"></span>
                     ${c.name} (${percent.toFixed(1)}%)`;
    legend.appendChild(leg);
  });

  insights.innerHTML = `
    <p>Assuming you live to <strong>80</strong>, you will sleep for <strong>${(categories[0].hours/24/365).toFixed(1)}</strong> years.</p>
    <p>You will work for <strong>${(categories[1].hours/24/365).toFixed(1)}</strong> years.</p>
    <p>You will commute for <strong>${(categories[2].hours/24/365).toFixed(1)}</strong> years.</p>
    <p>You will spend <strong>${(categories[3].hours/24/365).toFixed(1)}</strong> years on screens.</p>
    <p>Your remaining free time is <strong>${((categories.at(-1).hours/totalLifeHours)*100).toFixed(1)}%</strong> of your life.</p>
  `;
}

const ageInput = document.getElementById("age");
const startWorkInput = document.getElementById("startWork");
const sleepInput = document.getElementById("sleep");
const workInput = document.getElementById("work");
const commuteInput = document.getElementById("commute");
const screenInput = document.getElementById("screen");
const exerciseInput = document.getElementById("exercise");
const hobbyInput = document.getElementById("hobby");
</script>

</body>
</html>
